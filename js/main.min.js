function initNavigation(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();!function(e){document.querySelectorAll(".page-section").forEach(e=>{e.classList.remove("active")});const t=document.getElementById(e);t&&(t.classList.add("active"),window.scrollTo(0,0)),document.querySelectorAll(".nav-link").forEach(e=>{e.classList.remove("active")}),document.querySelector(`a[href="#${e}"]`)?.classList.add("active")}(this.getAttribute("href").substring(1));const t=document.querySelector(".navbar-collapse");t.classList.contains("show")&&bootstrap.Collapse.getInstance(t)?.hide()})}),document.querySelector('.nav-link[href="#home"]')?.classList.add("active");const e=document.querySelector(".navbar-collapse"),t=document.querySelector(".navbar-toggler");e&&t&&document.addEventListener("click",function(n){const o=e.classList.contains("show"),a=e.contains(n.target),c=t.contains(n.target);!o||a||c||bootstrap.Collapse.getInstance(e)?.hide()})}function initContactForm(){const e=document.getElementById("contactForm");e&&e.addEventListener("submit",function(e){e.preventDefault();const t=document.getElementById("firstName")?.value,n=document.getElementById("lastName")?.value,o=document.getElementById("email")?.value,a=(document.getElementById("phone"),document.getElementById("service"),document.getElementById("message")?.value);t&&n&&o&&a?(alert("Thank you for your message! We will contact you within 24 hours."),this.reset()):alert("Please fill in all required fields.")})}function initBackToTop(){const e=document.getElementById("backToTop");if(!e)return;let t=!1;function n(){t||(requestAnimationFrame(()=>{e.style.display=window.pageYOffset>300?"flex":"none",t=!1}),t=!0)}window.addEventListener("scroll",n,{passive:!0}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),n()}function initLazyLoading(){if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.src=e.dataset.src})}else{const e=[].slice.call(document.querySelectorAll('img[loading="lazy"]'));if("IntersectionObserver"in window){const t=new IntersectionObserver((e,n)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,t.unobserve(n)}})});e.forEach(e=>{t.observe(e)})}}}function initThemeSwitcher(){const e=document.getElementById("themeToggle");if(!e)return;const t=window.matchMedia("(prefers-color-scheme: dark)");function n(){const t=e.querySelector(".fa-sun"),n=e.querySelector(".fa-moon");document.documentElement.hasAttribute("data-theme")?(t?.classList.remove("d-none"),n?.classList.add("d-none")):(t?.classList.add("d-none"),n?.classList.remove("d-none"))}"dark"===(localStorage.getItem("theme")||"light")?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),e.addEventListener("click",function(){let e="light";document.documentElement.hasAttribute("data-theme")?(document.documentElement.removeAttribute("data-theme"),e="light"):(document.documentElement.setAttribute("data-theme","dark"),e="dark"),localStorage.setItem("theme",e),n()}),t.addListener(e=>{localStorage.getItem("theme")||(e.matches?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),n())}),n()}function highlightActiveNavLink(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link").forEach(t=>{const n=t.getAttribute("href").split("/").pop();e===n||""===e&&"index.html"===n?(t.classList.add("active"),t.closest(".nav-item")?.classList.add("active")):(t.classList.remove("active"),t.closest(".nav-item")?.classList.remove("active"))})}document.addEventListener("DOMContentLoaded",function(){highlightActiveNavLink(),initNavigation(),initContactForm(),initBackToTop(),initLazyLoading(),initThemeSwitcher();const e=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".service-card, .team-card, .project-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(30px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(t)})});